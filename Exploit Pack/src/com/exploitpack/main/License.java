/**
Exploit Pack - Security Framework for Exploit Developers
Copyright 2011 Juan Sacco http://exploitpack.com

This program is free software: you can redistribute it and/or modify it under the terms of the
GNU General Public License as published by the Free Software Foundation, either version 3 
or any later version.

This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR
PURPOSE. See the GNU General Public License for more details.

You should have received a copy of the GNU General Public License along with this program. 
If not, see http://www.gnu.org/licenses/
 **/

package com.exploitpack.main;
import org.eclipse.swt.widgets.Display;

import org.eclipse.swt.widgets.Shell;

import org.eclipse.swt.widgets.Text;

import org.eclipse.swt.SWT;

import org.eclipse.swt.widgets.Button;

import org.eclipse.swt.events.SelectionAdapter;

import org.eclipse.swt.events.SelectionEvent;
import org.eclipse.swt.graphics.Rectangle;
import org.eclipse.wb.swt.SWTResourceManager;
import org.eclipse.swt.layout.FormLayout;
import org.eclipse.swt.layout.FormData;
import org.eclipse.swt.layout.FormAttachment;

public class License {

	protected Shell shlInsectPro;

	private Text txtCopyrightc;

	/**
	 * 
	 * Launch the application.
	 * 
	 * @param args
	 */

	public static void main(String[] args) {

		try {

			License window = new License();

			window.open();

		} catch (Exception e) {

			e.printStackTrace();

		}

	}

	/**
	 * 
	 * Open the window.
	 */

	public void open() {

		Display display = Display.getDefault();

		createContents();
		
		Rectangle bounds = display.getBounds();
		Rectangle rect = shlInsectPro.getBounds();

		int x = bounds.x + (bounds.width - rect.width) / 2;
		int y = bounds.y + (bounds.height - rect.height) / 2;

		shlInsectPro.setLocation(x, y);
		    

		shlInsectPro.open();

		shlInsectPro.layout();

		
		

		while (!shlInsectPro.isDisposed()) {

			if (!display.readAndDispatch()) {

				display.sleep();

			}

		}

	}

	/**
	 * 
	 * Create contents of the window.
	 */

	protected void createContents() {

		shlInsectPro = new Shell(SWT.CLOSE);
		shlInsectPro.setImage(SWTResourceManager.getImage(License.class, "/resources/1316133906_package.png"));

		shlInsectPro.setSize(520, 267);

		shlInsectPro.setText("Exploit Pack - License Agreement");
		shlInsectPro.setLayout(new FormLayout());

		txtCopyrightc = new Text(shlInsectPro, SWT.BORDER | SWT.MULTI);
		FormData fd_txtCopyrightc = new FormData();
		fd_txtCopyrightc.bottom = new FormAttachment(0, 201);
		fd_txtCopyrightc.right = new FormAttachment(0, 520);
		fd_txtCopyrightc.top = new FormAttachment(0);
		fd_txtCopyrightc.left = new FormAttachment(0);
		txtCopyrightc.setLayoutData(fd_txtCopyrightc);

		txtCopyrightc
				.setText("Exploit Pack \u2013 Security Framework for Exploit Developers\r\nCopyright (C) 2011 Juan Sacco\r\n\r\nThis program is free software: you can redistribute it and/or modify it under the terms of the\r\nGNU General Public License as published by the Free Software Foundation, either version 3 \r\nor any later version.\r\n\r\nThis program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY;\r\nwithout even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR\r\nPURPOSE. See the GNU General Public License for more details.\r\n\r\nYou should have received a copy of the GNU General Public License along with this program. \r\nIf not, see http://www.gnu.org/licenses/");

		Button btnNewButton = new Button(shlInsectPro, SWT.NONE);
		FormData fd_btnNewButton = new FormData();
		fd_btnNewButton.left = new FormAttachment(txtCopyrightc, 4, SWT.LEFT);
		fd_btnNewButton.bottom = new FormAttachment(0, 232);
		fd_btnNewButton.right = new FormAttachment(0, 510);
		fd_btnNewButton.top = new FormAttachment(0, 207);
		btnNewButton.setLayoutData(fd_btnNewButton);

		btnNewButton.addSelectionListener(new SelectionAdapter() {

			@Override
			public void widgetSelected(SelectionEvent e) {

				shlInsectPro.dispose();

			}

		});

		btnNewButton.setText("I accept the license agreement");

	}
}

